Linting Nextflow code..
Linting: conf/base.config
Linting: conf/modules.config
Linting: conf/test_full.config
Linting: conf/test.config
Linting: nextflow.config
Linting: workflows/rangeland.nf
Linting: subworkflows/local/higher_level/main.nf
Linting: subworkflows/local/utils_nfcore_rangeland_pipeline/main.nf
Linting: subworkflows/local/preprocessing/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nextflow_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nextflow_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nfschema_plugin/main.nf
Linting: subworkflows/nf-core/utils_nfschema_plugin/tests/nextflow.config
Linting: main.nf
Linting: tests/nextflow.config
Linting: modules/local/force-preprocess/main.nf
Linting: modules/local/check_results_full/main.nf
Linting: modules/local/force-higher_level/main.nf
Linting: modules/local/check_results/main.nf
Linting: modules/local/force-generate_analysis_mask/main.nf
Linting: modules/local/force-generate_tile_allow_list/main.nf
Linting: modules/local/force-pyramid/main.nf
Linting: modules/local/force-mosaic/main.nf
Linting: modules/local/merge/main.nf
Linting: modules/nf-core/multiqc/main.nf
Linting: modules/nf-core/multiqc/tests/nextflow.config
Linting: modules/nf-core/untar/main.nf




Error modules/local/force-higher_level/main.nf:53:5: Unexpected input: 'def'
│  53 |     def outputOptions      = task.ext.args?["FILE_OUTPUT_OPTIONS"]   ?
╰     |     ^



Error modules/local/force-preprocess/main.nf:59:5: Unexpected input: 'def'
│  59 |     def doReproj      = task.ext.args?["DO_REPROJ"]              ? "DO
╰     |     ^






Error subworkflows/local/higher_level/main.nf:1:1: Module could not be parsed: '/home/runner/work/strict-syntax-health/strict-syntax-health/pipelines/rangeland/modules/local/force-higher_level/main.nf'
│   1 | include { FORCE_HIGHER_LEVEL }  from '../../../modules/local/force-hig
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error subworkflows/local/higher_level/main.nf:24:9: `FORCE_HIGHER_LEVEL` is not defined
│  24 |         FORCE_HIGHER_LEVEL(
╰     |         ^^^^^^^^^^^^^^^^^^

Error subworkflows/local/higher_level/main.nf:35:39: `FORCE_HIGHER_LEVEL` is not defined
│  35 |         ch_versions = ch_versions.mix(FORCE_HIGHER_LEVEL.out.versions.
╰     |                                       ^^^^^^^^^^^^^^^^^^

Error subworkflows/local/higher_level/main.nf:38:31: `FORCE_HIGHER_LEVEL` is not defined
│  38 |         trend_files_pyramid = FORCE_HIGHER_LEVEL.out.trend_files
╰     |                               ^^^^^^^^^^^^^^^^^^

Error subworkflows/local/higher_level/main.nf:51:30: `FORCE_HIGHER_LEVEL` is not defined
│  51 |         trend_files_mosaic = FORCE_HIGHER_LEVEL.out.trend_files
╰     |                              ^^^^^^^^^^^^^^^^^^

Error subworkflows/local/higher_level/main.nf:78:20: `FORCE_HIGHER_LEVEL` is not defined
│  78 |         trends   = FORCE_HIGHER_LEVEL.out.trend_files
╰     |                    ^^^^^^^^^^^^^^^^^^


Error subworkflows/local/preprocessing/main.nf:3:1: Module could not be parsed: '/home/runner/work/strict-syntax-health/strict-syntax-health/pipelines/rangeland/modules/local/force-preprocess/main.nf'
│   3 | include { FORCE_PREPROCESS }                       from '../../../modu
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:28:29: `extractDirectory` is not defined
│  28 |                 def id = "${extractDirectory(path)}_${path.simpleName}
╰     |                             ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:52:82: `extractDirectory` is not defined
│  52 | sks.flatten().map{ x -> [ [id:extractDirectory(x)], x ] }
╰     |                               ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:55:9: `FORCE_PREPROCESS` is not defined
│  55 |         FORCE_PREPROCESS( data, cube_file, FORCE_GENERATE_TILE_ALLOW_L
╰     |         ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:56:39: `FORCE_PREPROCESS` is not defined
│  56 |         ch_versions = ch_versions.mix(FORCE_PREPROCESS.out.versions.fi
╰     |                                       ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:59:21: `extractTile` is not defined
│  59 |         boa_tiles = extractTile(FORCE_PREPROCESS.out.boa_tiles)
╰     |                     ^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:59:33: `FORCE_PREPROCESS` is not defined
│  59 |         boa_tiles = extractTile(FORCE_PREPROCESS.out.boa_tiles)
╰     |                                 ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:60:21: `extractTile` is not defined
│  60 |         qai_tiles = extractTile(FORCE_PREPROCESS.out.qai_tiles)
╰     |                     ^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:60:33: `FORCE_PREPROCESS` is not defined
│  60 |         qai_tiles = extractTile(FORCE_PREPROCESS.out.qai_tiles)
╰     |                                 ^^^^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:67:30: `groupForMerge` is not defined
│  67 |         boa_tiles_to_merge = groupForMerge(boa_tiles)
╰     |                              ^^^^^^^^^^^^^

Error subworkflows/local/preprocessing/main.nf:68:30: `groupForMerge` is not defined
│  68 |         qai_tiles_to_merge = groupForMerge(qai_tiles)
╰     |                              ^^^^^^^^^^^^^

Warn  subworkflows/local/preprocessing/main.nf:22:13: Variable was declared but not used
│  22 |         def extractDirectory = { it.parent.toString().substring(it.par
╰     |             ^^^^^^^^^^^^^^^^

Warn  subworkflows/local/preprocessing/main.nf:22:34: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  22 |         def extractDirectory = { it.parent.toString().substring(it.par
╰     |                                  ^^

Warn  subworkflows/local/preprocessing/main.nf:22:65: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  22 | t.parent.toString().substring(it.parent.toString().lastIndexOf('/') + 
╰     |                               ^^

Warn  subworkflows/local/preprocessing/main.nf:25:13: Variable was declared but not used
│  25 |         def extractTile = { ch ->
╰     |             ^^^^^^^^^^^

Warn  subworkflows/local/preprocessing/main.nf:26:26: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  26 |             ch.flatMap { it[1] } // strip meta map for now, will be re
╰     |                          ^^

Warn  subworkflows/local/preprocessing/main.nf:34:13: Variable was declared but not used
│  34 |         def groupForMerge = { ch ->
╰     |             ^^^^^^^^^^^^^

Warn  subworkflows/local/preprocessing/main.nf:36:25: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  36 |                 .map{ [ it[0].substring( 0, 11 ), it[1] ] }
╰     |                         ^^

Warn  subworkflows/local/preprocessing/main.nf:36:51: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  36 |                 .map{ [ it[0].substring( 0, 11 ), it[1] ] }
╰     |                                                   ^^

Warn  subworkflows/local/preprocessing/main.nf:39:26: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  39 |                 .flatMap{it}
╰     |                          ^^

Warn  subworkflows/local/preprocessing/main.nf:40:75: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  40 | e, size : group_size ).map{ [ it[0], it[1].flatten() ] }
╰     |                               ^^

Warn  subworkflows/local/preprocessing/main.nf:40:82: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  40 |  : group_size ).map{ [ it[0], it[1].flatten() ] }
╰     |                               ^^

Warn  subworkflows/local/preprocessing/main.nf:83:37: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  83 |                         .map { [[id:it[0]], it[1].flatten() ] }
╰     |                                     ^^

Warn  subworkflows/local/preprocessing/main.nf:83:45: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  83 |                         .map { [[id:it[0]], it[1].flatten() ] }
╰     |                                             ^^

Warn  subworkflows/local/preprocessing/main.nf:86:37: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  86 |                         .map { [[id:it[0]], it[1].flatten() ] }
╰     |                                     ^^

Warn  subworkflows/local/preprocessing/main.nf:86:45: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  86 |                         .map { [[id:it[0]], it[1].flatten() ] }
╰     |                                             ^^


Warn  subworkflows/local/utils_nfcore_rangeland_pipeline/main.nf:32:5: Parameter was not used -- prefix with `_` to suppress warning
│  32 |     monochrome_logs   // boolean: Do not use coloured log outputs
╰     |     ^^^^^^^^^^^^^^^

Warn  subworkflows/local/utils_nfcore_rangeland_pipeline/main.nf:35:5: Parameter was not used -- prefix with `_` to suppress warning
│  35 |     input             //  string: Path to input samplesheet
╰     |     ^^^^^





Error workflows/rangeland.nf:114:23: `initMetaMap` is not defined
│ 114 |     .map{ it -> tuple(initMetaMap(it), it) }
╰     |                       ^^^^^^^^^^^

Error workflows/rangeland.nf:115:27: `inRegion` is not defined
│ 115 |     .filter{ meta, _it -> inRegion(meta) }
╰     |                           ^^^^^^^^

Warn  workflows/rangeland.nf:47:9: Variable was declared but not used
│  47 |     def inRegion = { meta ->
╰     |         ^^^^^^^^

Warn  workflows/rangeland.nf:60:9: Variable was declared but not used
│  60 |     def initMetaMap = {
╰     |         ^^^^^^^^^^^

Warn  workflows/rangeland.nf:61:30: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  61 |         String id          = it.simpleName
╰     |                              ^^

Warn  workflows/rangeland.nf:95:23: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  95 |     ch_input.branch { it
╰     |                       ^^

Warn  workflows/rangeland.nf:96:20: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  96 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                    ^^

Warn  workflows/rangeland.nf:96:47: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  96 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                                               ^^

Warn  workflows/rangeland.nf:97:31: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  97 |             return tuple([:], it)
╰     |                               ^^

Warn  workflows/rangeland.nf:99:20: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  99 |             return it
╰     |                    ^^

Warn  workflows/rangeland.nf:104:52: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 104 |     ch_untared_inputs = UNTAR_INPUT.out.untar.map{ it[1] }
╰     |                                                    ^^

Warn  workflows/rangeland.nf:123:21: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 123 |     ch_dem.branch { it
╰     |                     ^^

Warn  workflows/rangeland.nf:124:20: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 124 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                    ^^

Warn  workflows/rangeland.nf:124:47: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 124 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                                               ^^

Warn  workflows/rangeland.nf:125:31: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 125 |             return tuple([:], it)
╰     |                               ^^

Warn  workflows/rangeland.nf:127:25: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 127 |             return file(it)
╰     |                         ^^

Warn  workflows/rangeland.nf:132:47: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 132 |     ch_untared_dem = UNTAR_DEM.out.untar.map{ it[1] }
╰     |                                               ^^

Warn  workflows/rangeland.nf:139:22: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 139 |     ch_wvdb.branch { it
╰     |                      ^^

Warn  workflows/rangeland.nf:140:20: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 140 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                    ^^

Warn  workflows/rangeland.nf:140:47: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 140 |         archives : it.name.endsWith('tar') || it.name.endsWith('tar.gz
╰     |                                               ^^

Warn  workflows/rangeland.nf:141:31: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 141 |             return tuple([:], it)
╰     |                               ^^

Warn  workflows/rangeland.nf:143:25: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 143 |             return file(it)
╰     |                         ^^

Warn  workflows/rangeland.nf:148:49: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 148 |     ch_untared_wvdb = UNTAR_WVDB.out.untar.map{ it[1] }
╰     |                                                 ^^

Warn  workflows/rangeland.nf:188:5: Variable was declared but not used
│ 188 |     grouped_trend_data = HIGHER_LEVEL.out.mosaic.map{ it[1] }.flatten(
╰     |     ^^^^^^^^^^^^^^^^^^

Warn  workflows/rangeland.nf:188:55: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 188 |     grouped_trend_data = HIGHER_LEVEL.out.mosaic.map{ it[1] }.flatten(
╰     |                                                       ^^


Warn  conf/modules.config:52:46: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  52 |                 saveAs:  { params.save_ard ? it : null },
╰     |                                              ^^

Warn  conf/modules.config:70:61: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  70 | ams.save_tsa ? "trend_files/${it.tokenize('/')[-1]}" : null },
╰     |                               ^^

Warn  conf/modules.config:87:59: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  87 |             saveAs:  { "${meta.product}/trend/${task.tag}/$it" },
╰     |                                                           ^^


Nextflow linting complete!
 ❌ 5 files had 21 errors
 ✅ 24 files had no errors
