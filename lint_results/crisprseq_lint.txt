Linting Nextflow code..
Linting: conf/test_umis.config
Linting: conf/test_screening_count_table.config
Linting: conf/test_screening_bowtie.config
Linting: conf/igenomes_ignored.config
Linting: conf/base.config
Linting: conf/test_targeted.config
Linting: conf/test_screening_rra.config
Linting: conf/modules.config
Linting: conf/test_targeted_full.config
Linting: conf/test_screening_paired.config
Linting: conf/test_screening.config
Linting: conf/test_screening_full.config
Linting: conf/igenomes.config
Linting: nextflow.config
Linting: workflows/crisprseq_screening.nf
Linting: workflows/crisprseq_targeted.nf
Linting: subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nextflow_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nextflow_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nfschema_plugin/main.nf
Linting: subworkflows/nf-core/utils_nfschema_plugin/tests/nextflow.config
Linting: main.nf
Linting: tests/nextflow.config
Linting: modules/local/find_adapters.nf
Linting: modules/local/gpt_prepare_query.nf
Linting: modules/local/alignment_summary.nf
Linting: modules/local/clonality_classifier.nf
Linting: modules/local/drugz.nf
Linting: modules/local/hitselection.nf
Linting: modules/local/orient_reference.nf
Linting: modules/local/mageck/graphrra.nf
Linting: modules/local/mageck/flutemle.nf
Linting: modules/local/bagel2/bf.nf
Linting: modules/local/bagel2/fc.nf
Linting: modules/local/bagel2/pr.nf
Linting: modules/local/bagel2/graph.nf
Linting: modules/local/preprocessing_summary.nf
Linting: modules/local/matricescreation.nf
Linting: modules/local/venndiagram.nf
Linting: modules/local/extract_umis.nf
Linting: modules/local/guides_to_fasta/main.nf
Linting: modules/local/template_reference.nf
Linting: modules/local/cigar_parser.nf
Linting: modules/local/clustering_summary.nf
Linting: modules/local/crisprseq_plotter.nf
Linting: modules/nf-core/racon/main.nf
Linting: modules/nf-core/samtools/index/main.nf
Linting: modules/nf-core/samtools/index/tests/csi.nextflow.config
Linting: modules/nf-core/fastqc/main.nf
Linting: modules/nf-core/cutadapt/main.nf
Linting: modules/nf-core/cutadapt/tests/nextflow.config
Linting: modules/nf-core/multiqc/main.nf
Linting: modules/nf-core/multiqc/tests/nextflow.config
Linting: modules/nf-core/minimap2/index/main.nf
Linting: modules/nf-core/minimap2/align/main.nf
Linting: modules/nf-core/cat/fastq/main.nf
Linting: modules/nf-core/bwa/index/main.nf
Linting: modules/nf-core/bwa/mem/main.nf
Linting: modules/nf-core/bowtie2/build/main.nf
Linting: modules/nf-core/bowtie2/align/main.nf
Linting: modules/nf-core/bowtie2/align/tests/cram_crai.config
Linting: modules/nf-core/bowtie2/align/tests/sam2.config
Linting: modules/nf-core/bowtie2/align/tests/large_index.config
Linting: modules/nf-core/bowtie2/align/tests/sam.config
Linting: modules/nf-core/mageck/count/main.nf
Linting: modules/nf-core/mageck/test/main.nf
Linting: modules/nf-core/mageck/test/tests/nextflow.config
Linting: modules/nf-core/mageck/test/tests/nextflow-day0_label.config
Linting: modules/nf-core/mageck/mle/main.nf
Linting: modules/nf-core/vsearch/cluster/main.nf
Linting: modules/nf-core/vsearch/cluster/tests/nextflow_userout.config
Linting: modules/nf-core/vsearch/cluster/tests/nextflow_unoise.config
Linting: modules/nf-core/vsearch/cluster/tests/nextflow_smallmem.config
Linting: modules/nf-core/vsearch/cluster/tests/nextflow_size.config
Linting: modules/nf-core/vsearch/cluster/tests/nextflow_fast.config
Linting: modules/nf-core/vsearch/sort/main.nf
Linting: modules/nf-core/vsearch/sort/tests/nextflow.config
Linting: modules/nf-core/seqtk/seq/main.nf
Linting: modules/nf-core/seqtk/seq/tests/standard.config
Linting: modules/nf-core/pear/main.nf
Linting: modules/nf-core/crisprcleanr/normalize/main.nf
Linting: modules/nf-core/medaka/main.nf
Error main.nf:36:1: Module could not be parsed: '/home/runner/work/strict-syntax-health/strict-syntax-health/pipelines/crisprseq/workflows/crisprseq_targeted.nf'
│  36 | include { CRISPRSEQ_TARGETED  } from './workflows/crisprseq_targeted'
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error main.nf:56:9: `CRISPRSEQ_TARGETED` is not defined
│  56 |         CRISPRSEQ_TARGETED (
╰     |         ^^^^^^^^^^^^^^^^^^

Error main.nf:62:29: `CRISPRSEQ_TARGETED` is not defined
│  62 |         multiqc_report_ch = CRISPRSEQ_TARGETED.out.multiqc_report
╰     |                             ^^^^^^^^^^^^^^^^^^



Warn  modules/local/bagel2/bf.nf:26:9: Variable was declared but not used
│  26 |     def prefix = task.ext.prefix ?: "${meta.id}"
╰     |         ^^^^^^


Warn  modules/local/bagel2/fc.nf:23:9: Variable was declared but not used
│  23 |     def prefix = task.ext.prefix ?: "${meta.id}"
╰     |         ^^^^^^


Warn  modules/local/bagel2/graph.nf:21:9: Variable was declared but not used
│  21 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/local/bagel2/graph.nf:22:9: Variable was declared but not used
│  22 |     def prefix = task.ext.prefix ?: "${meta.id}"
╰     |         ^^^^^^


Warn  modules/local/bagel2/pr.nf:23:9: Variable was declared but not used
│  23 |     def prefix = task.ext.prefix ?: "${meta.id}"
╰     |         ^^^^^^







Warn  modules/local/extract_umis.nf:19:9: Variable was declared but not used
│  19 |     def args = task.ext.args ?: ''
╰     |         ^^^^


Warn  modules/local/find_adapters.nf:18:9: Variable was declared but not used
│  18 |     def args = task.ext.args ?: ''
╰     |         ^^^^



Warn  modules/local/hitselection.nf:26:9: Variable was declared but not used
│  26 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/local/hitselection.nf:246:9: Variable was declared but not used
│ 246 |     def args = task.ext.args ?: ''
╰     |         ^^^^


Warn  modules/local/mageck/flutemle.nf:25:5: Variable was declared but not used
│  25 |     args = task.ext.args ?: ' '
╰     |     ^^^^


Warn  modules/local/mageck/graphrra.nf:21:9: Variable was declared but not used
│  21 |     def args = task.ext.args ?: ''
╰     |         ^^^^



Warn  modules/local/orient_reference.nf:19:9: Variable was declared but not used
│  19 |     def args = task.ext.args ?: ''
╰     |         ^^^^




Warn  modules/local/venndiagram.nf:21:9: Variable was declared but not used
│  21 |     def args = task.ext.args ?: ''
╰     |         ^^^^


Warn  modules/nf-core/bowtie2/align/main.nf:93:9: Variable was declared but not used
│  93 |     def reference = fasta && extension=="cram"  ? "--reference ${fasta
╰     |         ^^^^^^^^^



Error modules/nf-core/bwa/index/main.nf:14:27: `bwa` is not defined
│  14 |     tuple val(meta), path(bwa) , emit: index
╰     |                           ^^^


Warn  modules/nf-core/bwa/mem/main.nf:56:9: Variable was declared but not used
│  56 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/nf-core/bwa/mem/main.nf:59:9: Variable was declared but not used
│  59 |     def samtools_command = sort_bam ? 'sort' : 'view'
╰     |         ^^^^^^^^^^^^^^^^


Warn  modules/nf-core/cat/fastq/main.nf:21:9: Variable was declared but not used
│  21 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/nf-core/cat/fastq/main.nf:23:59: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  23 |     def readList = reads instanceof List ? reads.collect{ it.toString(
╰     |                                                           ^^

Warn  modules/nf-core/cat/fastq/main.nf:54:59: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  54 |     def readList = reads instanceof List ? reads.collect{ it.toString(
╰     |                                                           ^^


Warn  modules/nf-core/crisprcleanr/normalize/main.nf:26:9: Variable was declared but not used
│  26 |     def args = task.ext.args ?: ''
╰     |         ^^^^




Warn  modules/nf-core/mageck/count/main.nf:53:9: Variable was declared but not used
│  53 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/nf-core/mageck/count/main.nf:55:9: Variable was declared but not used
│  55 |     def sample_label = ("$fastq1".endsWith(".fastq.gz") || "$fastq1".e
╰     |         ^^^^^^^^^^^^



Warn  modules/nf-core/mageck/test/main.nf:42:9: Variable was declared but not used
│  42 |     def args = task.ext.args ?: ''
╰     |         ^^^^











Error modules/nf-core/vsearch/sort/main.nf:40:13: `prefix` is not defined
│  40 |     touch ${prefix}.fasta
╰     |             ^^^^^^


Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:115:41: `reference` is already declared
│ 115 |                 meta, fastq_1, fastq_2, reference, protospacer, templa
╰     |                                         ^^^^^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:115:52: `protospacer` is already declared
│ 115 |                 meta, fastq_1, fastq_2, reference, protospacer, templa
╰     |                                                    ^^^^^^^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:115:65: `template` is already declared
│ 115 |            meta, fastq_1, fastq_2, reference, protospacer, template ->
╰     |                                                            ^^^^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:117:25: Variables in a closure should be declared with `def`
│ 117 |                         files = [ fastq_1, fastq_2 ]
╰     |                         ^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:501:9: `warning` is not defined
│ 501 |         warning "mle_design_matrix will only be used for the MAGeCK ML
╰     |         ^^^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:513:9: `warning` is not defined
│ 513 |         warning "MAGeCK MLE module will be run twice, once with the de
╰     |         ^^^^^^^

Error subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:517:9: `warning` is not defined
│ 517 |         warning "mle_design_matrix will only be used for the MAGeCK ML
╰     |         ^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:32:5: Parameter was not used -- prefix with `_` to suppress warning
│  32 |     monochrome_logs   // boolean: Do not use coloured log outputs
╰     |     ^^^^^^^^^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:35:5: Parameter was not used -- prefix with `_` to suppress warning
│  35 |     input             //  string: Path to input samplesheet
╰     |     ^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:101:5: Variable was declared but not used
│ 101 |     reads_screening  = channel.empty()
╰     |     ^^^^^^^^^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:106:5: Variable was declared but not used
│ 106 |     versions         = channel.empty()
╰     |     ^^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:244:14: Parameter was not used -- prefix with `_` to suppress warning
│ 244 |     .filter{ meta, sequence -> sequence instanceof String }
╰     |              ^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:252:21: Parameter was not used -- prefix with `_` to suppress warning
│ 252 |         .map{ meta, reference ->
╰     |                     ^^^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:256:11: Parameter was not used -- prefix with `_` to suppress warning
│ 256 |     .map{ metaid, new_file, meta ->
╰     |           ^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:267:14: Parameter was not used -- prefix with `_` to suppress warning
│ 267 |     .filter{ meta, sequence -> sequence instanceof String }
╰     |              ^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:275:21: Parameter was not used -- prefix with `_` to suppress warning
│ 275 |         .map{ meta, template ->
╰     |                     ^^^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:279:11: Parameter was not used -- prefix with `_` to suppress warning
│ 279 |     .map{ metaid, new_file, meta ->
╰     |           ^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:310:25: Parameter was not used -- prefix with `_` to suppress warning
│ 310 |             .map{ meta, fastqs, reference, protospacer -> [ meta, refe
╰     |                         ^^^^^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:395:39: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 395 |     def reference_ok = metas.collect{ it.self_reference }.unique().siz
╰     |                                       ^^

Warn  subworkflows/local/utils_nfcore_crisprseq_pipeline/main.nf:401:38: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 401 |     def template_ok = metas.collect{ it.template }.unique().size == 1
╰     |                                      ^^





Warn  workflows/crisprseq_screening.nf:91:72: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  91 | ch_multiqc_files = ch_multiqc_files.mix(FASTQC.out.zip.collect{it[1]})
╰     |                                                                ^^

Warn  workflows/crisprseq_screening.nf:106:89: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 106 | les = ch_multiqc_files.mix(CUTADAPT_FIVE_PRIME.out.log.collect{it[1]})
╰     |                                                                ^^

Warn  workflows/crisprseq_screening.nf:115:90: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 115 | es = ch_multiqc_files.mix(CUTADAPT_THREE_PRIME.out.log.collect{it[1]})
╰     |                                                                ^^

Warn  workflows/crisprseq_screening.nf:196:82: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 196 | _files = ch_multiqc_files.mix(MAGECK_COUNT.out.summary.collect{it[1]})
╰     |                                                                ^^

Warn  workflows/crisprseq_screening.nf:242:68: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 242 |       .map { condition, metas -> [condition, metas.collect { it.id }]}
╰     |                                                              ^^

Warn  workflows/crisprseq_screening.nf:261:63: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 261 | mples = all_conditions.find { it[0] in contrast_meta.treatment }  // F
╰     |                               ^^

Warn  workflows/crisprseq_screening.nf:262:63: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 262 | mples = all_conditions.find { it[0] in contrast_meta.reference }
╰     |                               ^^

Warn  workflows/crisprseq_screening.nf:359:56: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 359 |             MATRICESCREATION(ch_contrasts_counts.map { it[0] })
╰     |                                                        ^^

Warn  workflows/crisprseq_screening.nf:543:26: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 543 |     def topic_versions = Channel.topic("versions")
╰     |                          ^^^^^^^


Error workflows/crisprseq_targeted.nf:61:22: Unexpected input: '='
│  61 |         while ( line1=it.readLine() ) {
╰     |                      ^


Nextflow linting complete!
 ❌ 5 files had 13 errors
 ✅ 79 files had no errors
