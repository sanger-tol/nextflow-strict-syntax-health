Linting Nextflow code..
Linting: conf/igenomes_ignored.config
Linting: conf/base.config
Linting: conf/modules.config
Linting: conf/test_bam.config
Linting: conf/test_full.config
Linting: conf/test.config
Linting: conf/igenomes.config
Linting: nextflow.config
Linting: workflows/hgtseq.nf
Linting: subworkflows/local/bam_qc/main.nf
Linting: subworkflows/local/reporting/main.nf
Linting: subworkflows/local/prepare_reads/main.nf
Linting: subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf
Linting: subworkflows/local/reads_qc/main.nf
Linting: subworkflows/local/sortbam/main.nf
Linting: subworkflows/local/classify_unmapped/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nfcore_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nextflow_pipeline/main.nf
Linting: subworkflows/nf-core/utils_nextflow_pipeline/tests/nextflow.config
Linting: subworkflows/nf-core/utils_nfschema_plugin/main.nf
Linting: subworkflows/nf-core/utils_nfschema_plugin/tests/nextflow.config
Linting: main.nf
Linting: tests/nextflow.config
Linting: modules/local/ranalysis/main.nf
Linting: modules/local/parseoutputs/main.nf
Linting: modules/local/samtools/fastqlocal/main.nf
Linting: modules/local/samtools/viewsingle/main.nf
Linting: modules/local/gawk/main.nf
Linting: modules/nf-core/krona/ktimporttaxonomy/main.nf
Linting: modules/nf-core/krona/ktupdatetaxonomy/main.nf
Linting: modules/nf-core/kraken2/kraken2/main.nf
Linting: modules/nf-core/samtools/flagstat/main.nf
Linting: modules/nf-core/samtools/idxstats/main.nf
Linting: modules/nf-core/samtools/fastq/main.nf
Linting: modules/nf-core/samtools/index/main.nf
Linting: modules/nf-core/samtools/index/tests/csi.nextflow.config
Linting: modules/nf-core/samtools/sort/main.nf
Linting: modules/nf-core/samtools/sort/tests/nextflow.config
Linting: modules/nf-core/samtools/sort/tests/nextflow_cram.config
Linting: modules/nf-core/samtools/stats/main.nf
Linting: modules/nf-core/samtools/view/main.nf
Linting: modules/nf-core/samtools/view/tests/bam_index.config
Linting: modules/nf-core/samtools/view/tests/bam.config
Linting: modules/nf-core/fastqc/main.nf
Linting: modules/nf-core/multiqc/main.nf
Linting: modules/nf-core/multiqc/tests/nextflow.config
Linting: modules/nf-core/bwamem2/index/main.nf
Linting: modules/nf-core/bwamem2/mem/main.nf
Linting: modules/nf-core/bwa/index/main.nf
Linting: modules/nf-core/bwa/mem/main.nf
Linting: modules/nf-core/custom/dumpsoftwareversions/main.nf
Linting: modules/nf-core/trimgalore/main.nf
Linting: modules/nf-core/trimgalore/tests/nextflow.config
Linting: modules/nf-core/untar/main.nf
Linting: modules/nf-core/qualimap/bamqc/main.nf
Linting: modules/nf-core/bamtools/stats/main.nf
Warn  modules/local/gawk/main.nf:22:9: Variable was declared but not used
│  22 |     def args = task.ext.args ?: ''
╰     |         ^^^^



Warn  modules/local/ranalysis/main.nf:27:9: Variable was declared but not used
│  27 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/local/ranalysis/main.nf:28:9: Variable was declared but not used
│  28 |     def prefix = task.ext.prefix ?: ''
╰     |         ^^^^^^




Warn  modules/nf-core/bamtools/stats/main.nf:21:9: Variable was declared but not used
│  21 |     def args = task.ext.args ?: ''
╰     |         ^^^^






Warn  modules/nf-core/custom/dumpsoftwareversions/main.nf:22:9: Variable was declared but not used
│  22 |     def args = task.ext.args ?: ''
╰     |         ^^^^



Warn  modules/nf-core/kraken2/kraken2/main.nf:60:9: Variable was declared but not used
│  60 |     def args = task.ext.args ?: ''
╰     |         ^^^^

Warn  modules/nf-core/kraken2/kraken2/main.nf:62:9: Variable was declared but not used
│  62 |     def paired       = meta.single_end ? "" : "--paired"
╰     |         ^^^^^^

Warn  modules/nf-core/kraken2/kraken2/main.nf:65:9: Variable was declared but not used
│  65 |     def readclassification_option = save_reads_assignment ? "--output 
╰     |         ^^^^^^^^^^^^^^^^^^^^^^^^^

Warn  modules/nf-core/kraken2/kraken2/main.nf:66:9: Variable was declared but not used
│  66 |     def compress_reads_command = save_output_fastqs ? "pigz -p $task.c
╰     |         ^^^^^^^^^^^^^^^^^^^^^^













Warn  modules/nf-core/trimgalore/main.nf:47:31: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  47 |         args_list.removeAll { it.toLowerCase().contains('_r2 ') }
╰     |                               ^^



Warn  subworkflows/local/bam_qc/main.nf:17:5: Parameter was not used -- prefix with `_` to suppress warning
│  17 |     fasta      // channel: [mandatory] path(fasta)
╰     |     ^^^^^

Warn  subworkflows/local/bam_qc/main.nf:21:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  21 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^


Warn  subworkflows/local/classify_unmapped/main.nf:20:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  20 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^

Warn  subworkflows/local/classify_unmapped/main.nf:22:37: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  22 |     SAMTOOLS_VIEW_SINGLE ( bam_bai, Channel.value([]), Channel.value([
╰     |                                     ^^^^^^^

Warn  subworkflows/local/classify_unmapped/main.nf:22:56: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  22 |     SAMTOOLS_VIEW_SINGLE ( bam_bai, Channel.value([]), Channel.value([
╰     |                                                        ^^^^^^^


Warn  subworkflows/local/prepare_reads/main.nf:22:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  22 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^

Warn  subworkflows/local/prepare_reads/main.nf:23:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  23 |     aligned_bam = Channel.empty()
╰     |                   ^^^^^^^

Warn  subworkflows/local/prepare_reads/main.nf:25:18: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  25 |     fasta_meta = Channel.value(file(fasta)).map{ it -> [[id:it[0].base
╰     |                  ^^^^^^^

Warn  subworkflows/local/prepare_reads/main.nf:36:63: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  36 | asta ? params.bwaindex      ? Channel.fromPath(params.bwaindex).collec
╰     |                               ^^^^^^^

Warn  subworkflows/local/prepare_reads/main.nf:48:63: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  48 | asta ? params.bwamem2index  ? Channel.fromPath(params.bwamem2index).co
╰     |                               ^^^^^^^


Warn  subworkflows/local/reads_qc/main.nf:15:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  15 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^


Warn  subworkflows/local/reporting/main.nf:20:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  20 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^

Warn  subworkflows/local/reporting/main.nf:28:16: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  28 |     fakemeta = Channel.value([id: "group"])
╰     |                ^^^^^^^

Warn  subworkflows/local/reporting/main.nf:39:20: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  39 |     ch_rmarkdown = Channel.value(file("$projectDir/assets/analysis_rep
╰     |                    ^^^^^^^


Warn  subworkflows/local/sortbam/main.nf:11:5: Parameter was not used -- prefix with `_` to suppress warning
│  11 |     fasta      // channel: [mandatory] /path/to/reference/fasta
╰     |     ^^^^^

Warn  subworkflows/local/sortbam/main.nf:14:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  14 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^


Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:31:5: Parameter was not used -- prefix with `_` to suppress warning
│  31 |     monochrome_logs   // boolean: Do not use coloured log outputs
╰     |     ^^^^^^^^^^^^^^^

Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:34:5: Parameter was not used -- prefix with `_` to suppress warning
│  34 |     input             //  string: Path to input samplesheet
╰     |     ^^^^^

Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:38:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  38 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^

Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:75:1: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  75 | Channel
╰     | ^^^^^^^

Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:81:59: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  81 |             return [ meta, [ fastq_1, fastq_2 ].findAll { it != null &
╰     |                                                           ^^

Warn  subworkflows/local/utils_nfcore_hgtseq_pipeline/main.nf:81:73: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  81 | q_2 ].findAll { it != null && it != 'null' } ]
╰     |                               ^^



Warn  subworkflows/nf-core/utils_nfcore_pipeline/main.nf:101:98: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 101 | mYAML(version) }.unique().mix(Channel.of(workflowVersionToYAML()))
╰     |                               ^^^^^^^


Error workflows/hgtseq.nf:13:1: Statements cannot be mixed with script declarations -- move statements into a process or workflow
│  13 | ch_multiqc_config          = Channel.fromPath("$projectDir/assets/mult
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error workflows/hgtseq.nf:14:1: Statements cannot be mixed with script declarations -- move statements into a process or workflow
│  14 | ch_multiqc_custom_config   = params.multiqc_config ? Channel.fromPath(
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error workflows/hgtseq.nf:15:1: Statements cannot be mixed with script declarations -- move statements into a process or workflow
│  15 | ch_multiqc_logo            = params.multiqc_logo   ? Channel.fromPath(
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Error workflows/hgtseq.nf:16:1: Statements cannot be mixed with script declarations -- move statements into a process or workflow
│  16 | ch_multiqc_custom_methods_description = params.multiqc_methods_descrip
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Warn  workflows/hgtseq.nf:13:1: Variable was declared but not used
│  13 | ch_multiqc_config          = Channel.fromPath("$projectDir/assets/mult
╰     | ^^^^^^^^^^^^^^^^^

Warn  workflows/hgtseq.nf:13:30: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  13 | ch_multiqc_config          = Channel.fromPath("$projectDir/assets/mult
╰     |                              ^^^^^^^

Warn  workflows/hgtseq.nf:14:1: Variable was declared but not used
│  14 | ch_multiqc_custom_config   = params.multiqc_config ? Channel.fromPath(
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^

Warn  workflows/hgtseq.nf:14:54: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  14 | ch_multiqc_custom_config   = params.multiqc_config ? Channel.fromPath(
╰     |                                                      ^^^^^^^

Warn  workflows/hgtseq.nf:14:119: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  14 | omPath( params.multiqc_config, checkIfExists: true ) : Channel.empty()
╰     |                                                        ^^^^^^^

Warn  workflows/hgtseq.nf:15:1: Variable was declared but not used
│  15 | ch_multiqc_logo            = params.multiqc_logo   ? Channel.fromPath(
╰     | ^^^^^^^^^^^^^^^

Warn  workflows/hgtseq.nf:15:54: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  15 | ch_multiqc_logo            = params.multiqc_logo   ? Channel.fromPath(
╰     |                                                      ^^^^^^^

Warn  workflows/hgtseq.nf:15:117: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  15 | fromPath( params.multiqc_logo, checkIfExists: true ) : Channel.empty()
╰     |                                                        ^^^^^^^

Warn  workflows/hgtseq.nf:16:1: Variable was declared but not used
│  16 | ch_multiqc_custom_methods_description = params.multiqc_methods_descrip
╰     | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Warn  workflows/hgtseq.nf:65:19: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  65 |     ch_versions = Channel.empty()
╰     |                   ^^^^^^^

Warn  workflows/hgtseq.nf:66:24: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  66 |     ch_multiqc_files = Channel.empty()
╰     |                        ^^^^^^^

Warn  workflows/hgtseq.nf:76:51: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  76 |         ch_krakendb = UNTAR_KRAKEN.out.untar.map{ it[1] }
╰     |                                                   ^^

Warn  workflows/hgtseq.nf:78:23: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  78 |         ch_krakendb = Channel.value(krakendb)
╰     |                       ^^^^^^^

Warn  workflows/hgtseq.nf:85:49: Implicit closure parameter is deprecated, declare an explicit parameter instead
│  85 |         ch_kronadb = UNTAR_KRONA.out.untar.map{ it[1] }
╰     |                                                 ^^

Warn  workflows/hgtseq.nf:87:22: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│  87 |         ch_kronadb = Channel.value(kronadb)
╰     |                      ^^^^^^^

Warn  workflows/hgtseq.nf:155:66: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 155 |              CLASSIFY_UNMAPPED.out.classified_single.collect{ it[1] },
╰     |                                                               ^^

Warn  workflows/hgtseq.nf:156:64: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 156 |                CLASSIFY_UNMAPPED.out.classified_both.collect{ it[1] },
╰     |                                                               ^^

Warn  workflows/hgtseq.nf:157:71: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 157 |         CLASSIFY_UNMAPPED.out.candidate_integrations.collect{ it[1] },
╰     |                                                               ^^

Warn  workflows/hgtseq.nf:159:66: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 159 |            CLASSIFY_UNMAPPED.out.classified_single.collect{ it[0].id }
╰     |                                                             ^^

Warn  workflows/hgtseq.nf:179:32: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 179 |     ch_multiqc_config        = Channel.fromPath(
╰     |                                ^^^^^^^

Warn  workflows/hgtseq.nf:182:9: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 182 |         Channel.fromPath(params.multiqc_config, checkIfExists: true) :
╰     |         ^^^^^^^

Warn  workflows/hgtseq.nf:183:9: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 183 |         Channel.empty()
╰     |         ^^^^^^^

Warn  workflows/hgtseq.nf:185:9: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 185 |         Channel.fromPath(params.multiqc_logo, checkIfExists: true) :
╰     |         ^^^^^^^

Warn  workflows/hgtseq.nf:186:9: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 186 |         Channel.empty()
╰     |         ^^^^^^^

Warn  workflows/hgtseq.nf:190:27: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 190 |     ch_workflow_summary = Channel.value(paramsSummaryMultiqc(summary_p
╰     |                           ^^^^^^^

Warn  workflows/hgtseq.nf:196:45: The use of `Channel` to access channel factories is deprecated -- use `channel` instead
│ 196 |     ch_methods_description                = Channel.value(
╰     |                                             ^^^^^^^

Warn  workflows/hgtseq.nf:203:87: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 203 | .out.fastqc_untrimmed.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:204:85: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 204 | QC.out.fastqc_trimmed.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:207:70: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 207 | .mix(BAM_QC.out.stats.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:208:73: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 208 | x(BAM_QC.out.flagstat.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:209:73: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 209 | x(BAM_QC.out.idxstats.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:210:73: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 210 | x(BAM_QC.out.qualimap.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:211:73: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 211 | x(BAM_QC.out.bamstats.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:215:93: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 215 | PED.out.report_single.collect{it[1]}.ifEmpty([]))
╰     |                               ^^

Warn  workflows/hgtseq.nf:216:91: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 216 | APPED.out.report_both.collect{it[1]}.ifEmpty([]))
╰     |                               ^^


Error nextflow.config:302:30: `manifest` is not defined
│ 302 | \033[0;35m  nf-core/hgtseq ${manifest.version}\033[0m
╰     |                              ^^^^^^^^

Error nextflow.config:305:26: `manifest` is not defined
│ 305 |         afterText = """${manifest.doi ? "\n* The pipeline\n" : ""}${ma
╰     |                          ^^^^^^^^

Error nextflow.config:305:69: `manifest` is not defined
│ 305 | ? "\n* The pipeline\n" : ""}${manifest.doi.tokenize(",").collect { "  
╰     |                               ^^^^^^^^

Error nextflow.config:305:186: `manifest` is not defined
│ 305 | doi.org/','')}"}.join("\n")}${manifest.doi ? "\n" : ""}
╰     |                               ^^^^^^^^

Error nextflow.config:314:22: `validation` is not defined
│ 314 |         beforeText = validation.help.beforeText
╰     |                      ^^^^^^^^^^

Error nextflow.config:315:21: `validation` is not defined
│ 315 |         afterText = validation.help.afterText
╰     |                     ^^^^^^^^^^

Warn  nextflow.config:305:129: Implicit closure parameter is deprecated, declare an explicit parameter instead
│ 305 | lect { "    https://doi.org/${it.trim().replace('https://doi.org/','')
╰     |                               ^^


Nextflow linting complete!
 ❌ 2 files had 10 errors
 ✅ 55 files had no errors
